name: Auto Close Issue
on:
  issues:
    types: [labeled]

jobs:
  auto-close:
    runs-on: ubuntu-latest
    permissions:
      issues: write
    steps:
      - name: Warn Inactive Issue Before Close
        if: github.event.label.name == 'stale'
        uses: actions-cool/issues-helper@v3
        with:
          actions: "create-comment"
          token: ${{ secrets.GITHUB_TOKEN }}
          issue-number: ${{ github.event.issue.number }}
          body: |
            âš ï¸ This issue has been automatically closed due to inactivity. 

            - If the issue is still relevant and important to you, feel free to:
              1. Reopen with additional information
              2. Create a new issue with updated context
              3. Reference any related issues or discussions

            We close inactive issues to keep our backlog manageable and focused on active issues.

            Your contribution makes our project better! ğŸŒŸ

            ---

            âš ï¸ ç”±äºé•¿æœŸæ— æ´»åŠ¨ï¼Œæ­¤ issue å·²è¢«è‡ªåŠ¨å…³é—­ã€‚

            - å¦‚æœè¿™ä¸ªé—®é¢˜å¯¹æ‚¨æ¥è¯´ä»ç„¶é‡è¦ï¼Œæ‚¨å¯ä»¥ï¼š
              1. é‡æ–°æ‰“å¼€å¹¶æä¾›è¡¥å……ä¿¡æ¯
              2. åˆ›å»ºä¸€ä¸ªæ–°çš„ issue å¹¶æ›´æ–°ç›¸å…³èƒŒæ™¯
              3. å…³è”ç›¸å…³çš„ issue æˆ–è®¨è®º

            ä¸ºäº†æ›´å¥½åœ°ç»´æŠ¤é¡¹ç›®ï¼Œæˆ‘ä»¬éœ€è¦å®šæœŸæ¸…ç†ä¸æ´»è·ƒçš„é—®é¢˜ã€‚

            æ„Ÿè°¢æ‚¨ä¸ºå¼€æºæ·»ç –åŠ ç“¦ï¼ğŸŒŸ
          emoji: "heart"
      - name: Close Inactive Issue
        if: github.event.label.name == 'stale'
        uses: actions-cool/issues-helper@v3
        with:
          actions: "close-issue"
          token: ${{ secrets.GITHUB_TOKEN }}
          issue-number: ${{ github.event.issue.number }}
      - name: Comment Won't Fix Issue Before Close
        if: github.event.label.name == 'wontfix'
        uses: actions-cool/issues-helper@v3
        with:
          actions: "create-comment"
          token: ${{ secrets.GITHUB_TOKEN }}
          issue-number: ${{ github.event.issue.number }}
          body: |
            ğŸš« This issue has been marked as "Won't Fix". Here's why:

            - The described behavior is working as intended
            - The request falls outside our project scope/goals
            - The cost/benefit ratio doesn't justify the change

            If you have new information that might change this decision, feel free to:
            1. Share your additional context
            2. Propose alternative solutions
            3. Start a discussion to explore different approaches

            Thank you for your understanding and engagement! ğŸ™

            ---

            ğŸš« æ­¤ issue è¢«æ ‡è®°ä¸º"ä¸äºˆä¿®å¤"ï¼ŒåŸå› å¦‚ä¸‹ï¼š

            - å½“å‰è¡Œä¸ºç¬¦åˆè®¾è®¡é¢„æœŸ
            - è¯¥è¯·æ±‚è¶…å‡ºé¡¹ç›®èŒƒå›´/ç›®æ ‡
            - æŠ•å…¥äº§å‡ºæ¯”ä¸è¶³ä»¥æ”¯æŒæ­¤å˜æ›´

            å¦‚æœæ‚¨æœ‰ä»»ä½•æ–°çš„æƒ³æ³•æˆ–å»ºè®®ï¼Œæ¬¢è¿ï¼š
            1. åˆ†äº«æ›´å¤šä¸Šä¸‹æ–‡
            2. æå‡ºæ›¿ä»£æ–¹æ¡ˆ
            3. å‘èµ·è®¨è®ºä»¥æ¢ç´¢ä¸åŒæ€è·¯

            æ„Ÿè°¢ç†è§£ä¸æ”¯æŒï¼ğŸ™
          emoji: "heart"
      - name: Close Won't Fix Issue
        if: github.event.label.name == 'wontfix'
        uses: actions-cool/issues-helper@v3
        with:
          actions: "close-issue"
          token: ${{ secrets.GITHUB_TOKEN }}
          issue-number: ${{ github.event.issue.number }}
      - name: Comment Notabug Issue Before Close
        if: github.event.label.name == 'notabug'
        uses: actions-cool/issues-helper@v3
        with:
          actions: "create-comment"
          token: ${{ secrets.GITHUB_TOKEN }}
          issue-number: ${{ github.event.issue.number }}
          body: |
            âœ… After careful review, we've determined this is not a bug. Here's why:

            - The current behavior is working as designed
            - This might be a misunderstanding of the feature
            - The issue cannot be reproduced with the provided information

            If you still believe this is a bug, please:
            1. Provide a minimal reproduction
            2. Share your expected behavior
            3. Include more detailed environment information

            Thank you for helping us improve our project! ğŸ’«

            ---

            âœ… ç»è¿‡ä»”ç»†æ ¸æŸ¥ï¼Œè¿™å¹¶éä¸€ä¸ª bugï¼ŒåŸå› å¦‚ä¸‹ï¼š

            - å½“å‰è¡¨ç°ç¬¦åˆè®¾è®¡é¢„æœŸ
            - å¯èƒ½æ˜¯å¯¹åŠŸèƒ½ç†è§£æœ‰æ‰€åå·®
            - åŸºäºå·²æä¾›ä¿¡æ¯æ— æ³•å¤ç°é—®é¢˜

            å¦‚æœæ‚¨ä»è®¤ä¸ºè¿™æ˜¯ä¸€ä¸ª bugï¼Œå»ºè®®ï¼š
            1. æä¾›æœ€å°å¤ç°ç¤ºä¾‹
            2. è¯´æ˜æ‚¨æœŸæœ›çš„è¡¨ç°
            3. è¡¥å……æ›´è¯¦ç»†çš„ç¯å¢ƒä¿¡æ¯

            æœŸå¾…æ‚¨çš„åé¦ˆï¼ğŸ’«
          emoji: "heart"
      - name: Close Notabug Issue
        if: github.event.label.name == 'notabug'
        uses: actions-cool/issues-helper@v3
        with:
          actions: "close-issue"
          token: ${{ secrets.GITHUB_TOKEN }}
          issue-number: ${{ github.event.issue.number }}
